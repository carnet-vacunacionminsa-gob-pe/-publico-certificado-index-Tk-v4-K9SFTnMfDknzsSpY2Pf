import{Component}from"../../../1648828807851@core/component.js";import{JConst}from"../../../1648828807851@core/config/JConst.js";import{JRequest,JParameter}from"../../../1648828807851@core/http/JRequest.js";import{JPreload}from"../../../1648828807851@core/util/JGeneral.js";export default class CPCertificado extends Component{async __load(){this.selector("japp"),this.template(JPreload.getIcon("Validando Datos..."));const e=JParameter.fromQuery("Tk",null);if(null===e)return void this.template(this._htmlError());let n=e.replace(/\s/g,"+");const t=await JRequest.Post(JConst.UrlApi("/minsa/user/validate-qr"),{Id:n}).catch((e=>({Success:!1})));if(!0!==t.Success||void 0===t.Data||null===t.Data)return this.template(this._htmlError()),!1;1===t.Data.Estado?this.template(this._htmlDosisCompleta(t.Data)):this.template(this._htmlDosisIncompleta(t.Data))}_htmlDosisCompleta(e){return`\n        <div class="aContainer">\n            <div class="text-center">\n                <img src="${JConst.UrlStatic("img/logo-minsa-opt.jpg")}" alt="Logo Minsa" width="220" style="max-width: 15rem; width: 100%; border: #fff solid 1px" />\n            </div>\n            <div class="aLogo">\n                <img src="${JConst.UrlStatic("img/logo-carnet-opt.png")}" class="aLogoImg" alt="Logo Carnet de Vacunación - MINSA">                \n            </div> \n            <div class="text-center" style="padding:2rem 0.5rem">      \n                <div><img src="${JConst.UrlStatic("img/icon/comprobado.png")}"/></div>\n                <div style="font-size:1.2rem; padding:0.5rem; background: rgba(255,255,255, 0.7); line-height: 2rem; color: #1f484a;">\n                    <div>${e.Nombre_Apellidos}</div>\n                    <div> <b>${e.Documento}</b> ${e.NDoc_Codigo}</div>\n                    <div style="color:#3e8d5e"><b>${e.Mensaje}</b></div>\n                </div>\n            </div>\n            <div style="padding: 0.7rem 0 0.5rem; text-align: center;">\n                <div style="font-size: 1rem;padding:0.5rem;background: rgba(255,255,255, 0.7);">${e.MensajeDet}</div>    \n            </div>   \n            <hr class="aLine1"/>\n            <div class="text-center" style="color:#6c6c6c">\n                Copyright © 2021. Desarrollado por la Oficina General de Tecnologías de la Información del Ministerio de Salud | Todos los derechos reservados.                \n            </div>            \n        </div>\n        `}_htmlDosisIncompleta(e){return`\n        <div class="aContainer">\n            <div class="text-center">\n                <img src="${JConst.UrlStatic("img/logo-minsa-opt.jpg")}" alt="Logo Minsa" width="220" style="max-width: 15rem; width: 100%; border: #fff solid 1px" />\n            </div>\n            <div class="aLogo">\n                <img src="${JConst.UrlStatic("img/logo-carnet-opt.png")}" class="aLogoImg" alt="Logo Carnet de Vacunación - MINSA">                \n            </div>     \n            <div class="text-center" style="padding:2rem 0.5rem">      \n                <div><img src="${JConst.UrlStatic("img/icon/cancelar.png")}"/></div>\n                <div style="font-size:1.2rem; padding:0.5rem; background: rgba(255,255,255, 0.7); line-height: 2rem; color: #1f484a;">\n                    <div>${e.Nombre_Apellidos}</div>\n                    <div> <b>${e.Documento}</b> ${e.NDoc_Codigo}</div>\n                    <div style="color:#dead28"><b>${e.Mensaje}</b></div>\n                </div>\n            </div>\n            <div style="padding: 0.7rem 0 0.5rem; text-align: center;">\n                <div style="font-size: 1rem;padding:0.5rem;background: rgba(255,255,255, 0.7);">${e.MensajeDet}</div>    \n            </div>   \n            <hr class="aLine1"/>\n            <div class="text-center" style="color:#6c6c6c">\n                Copyright © 2021. Desarrollado por la Oficina General de Tecnologías de la Información del Ministerio de Salud | Todos los derechos reservados.                \n            </div>             \n        </div>\n        `}_htmlError(){return`\n        <div class="aContainer">\n            <div class="text-center">\n                <img src="${JConst.UrlStatic("img/logo-minsa-opt.jpg")}" alt="Logo Minsa" width="220" style="max-width: 15rem; width: 100%; border: #fff solid 1px" />\n            </div>\n            <div class="aLogo">\n                <img src="${JConst.UrlStatic("img/logo-carnet-opt.png")}" class="aLogoImg" alt="Logo Carnet de Vacunación - MINSA">                \n            </div>         \n            <div class="text-center" style="padding:2rem 0.5rem">\n                <div><img src="${JConst.UrlStatic("img/icon/cancelar.png")}"/></div>\n                <div style="font-size:1.2rem; padding:0.5rem; background: rgba(255,255,255, 0.7);">\n                    Ocurrió un error al intentar consultar los datos.\n                </div>            \n            </div>\n            <hr class="aLine1"/>\n            <div class="text-center" style="color:#6c6c6c">\n                Copyright © 2021. Desarrollado por la Oficina General de Tecnologías de la Información del Ministerio de Salud | Todos los derechos reservados.                \n            </div>             \n        </div>\n        `}}