let _instancePopUp=null;export class JPopup{constructor(){this.aPopUp=[],this.zindex=20,document.onkeydown=e=>{if(27===(e.which||e.keyCode)&&this.aPopUp.length>0){let e=this.aPopUp[this.aPopUp.length-1];"block"===document.getElementById(e).style.display&&this.hide(e)}}}static get(){return null===_instancePopUp&&(_instancePopUp=new JPopup),_instancePopUp}createBody(e,t={}){let o=document.getElementById(e);null===o?(o=document.createElement("div"),o.id=e,o.className="popup-container",t.cssTextContainer&&(o.style.cssText=t.cssTextContainer),o.style.zIndex=this.zindex+this.aPopUp.length+2,o.innerHTML='\n            <div class="popup-general '+(t.cwidth?t.cwidth:"")+'">                \n                '+(t.title?'<div class="popup-title"><span class="popup-txttitle">'+t.title+"</span> "+(void 0!==t.btnClose&&!1===t.btnClose?"":'<span class="popup-close">X</span>')+"</div>":"")+'\n                <div class="popup-body" '+(t.cssTextBody?'style="'+t.cssTextBody+'"':"")+"></div>\n            </div>",document.body.appendChild(o)):t.title&&(o.querySelector(".popup-txttitle").innerHTML=t.title)}show(e){let t=document.getElementById("bg-"+e),o=document.getElementById(e);if(this.aPopUp.push(e),null===document.getElementById("bg-"+e)&&(t=document.createElement("div"),t.id="bg-"+e,t.className="popup-background",t.style.zIndex=this.zindex+this.aPopUp.length,this.aPopUp.length,document.getElementsByTagName("body")[0].appendChild(t)),null===o)return void console.error("Para continuar debe crear la estructura HTML");t.style.display="block",o.style.display="block",1===this.aPopUp.length&&(document.documentElement.style.overflow="hidden",document.body.scroll="no");let n=o.querySelector(".popup-close");n&&(n.onclick=t=>{this.hide(e)}),o.scrollTop=0}clear(e){document.body.removeChild(document.getElementById("bg-"+e)),document.body.removeChild(document.getElementById(e)),1===this.aPopUp.length&&(document.documentElement.style.overflow="auto",document.body.scroll="yes"),this.aPopUp.pop()}hide(e){const t=document.getElementById("bg-"+e),o=document.getElementById(e);t.style.display="none",o.style.display="none",1===this.aPopUp.length&&(document.documentElement.style.overflow="auto",document.body.scroll="yes"),this.aPopUp.pop()}}