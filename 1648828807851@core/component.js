import{JRequest}from"./http/JRequest.js";import{JConst}from"./config/JConst.js";import{JDom}from"./dom/JApp.js";import{JPopup}from"./popups/JPopup.js";export class Component{constructor(){this.oPopup=null,this.contentExist=null,this.doc=null}selector(t,e="",o={}){this.contentExist=!1,"popup"===e?(this.oPopup=JPopup.get(),this.oPopup.createBody(t,o),this.doc=document.getElementById(t).querySelector(".popup-body")):""!==e?(JDom("._jContentChildrens",document.getElementById(t)).css("display","none"),this.doc=document.getElementById(t).querySelector("#"+e),null===this.doc?(this.doc=document.createElement("div"),this.doc.className="_jContentChildrens",this.doc.style.display="none",this.doc.id=e,document.getElementById(t).appendChild(this.doc)):this.contentExist=!0,this.doc.style.display="block"):this.doc=document.getElementById(t)}template(strHtml,isUrl=!1,toLiteral=!1){if(!1===isUrl)return!1===this.contentExist&&(void 0!==this.__beforeContent?this.__beforeContent((t=>{this.doc.innerHTML=strHtml,void 0!==this.__afterContent&&this.__afterContent()})):(this.doc.innerHTML=strHtml,void 0!==this.__afterContent&&this.__afterContent())),null;const urlHtml=JConst.UrlApp(strHtml);return JRequest.Get(urlHtml,"html").then((html=>{void 0!==this.__beforeContent&&this.__beforeContent(),this.doc.innerHTML=!0===toLiteral?eval("`"+html+"`"):html,void 0!==this.__afterContent&&this.__afterContent()}))}jDom(t){return JDom(t,this.doc)}}